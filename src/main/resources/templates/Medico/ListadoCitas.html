<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" th:href="@{/css/Listados.css}" />
    <link rel="icon" th:href="@{/imagenes/estetoscopio.png}">
    <title>Listado Medicos</title>
</head>

<body>
    <main class="list">
        <h1>Listado de Citas</h1>
        <table class="list__table">
            <thead class="table__title">
                <tr class="title__row">
                    <th class="row__title">Nombre Medico</th>
                    <th class="row__title">Nombre paciente</th>
                    <th class="row__title">Especialidad</th>
                    <th class="row__title">Fecha Cita</th>
                    <th class="row__title">Estado</th>
                    <th class="row__title">Acci√≥n</th>
                </tr>
            </thead>
            <tbody class="table__body">
                <tr class="body__row" th:each="cita : ${Listar_Citas}">
                    <td class="row__content" th:text="${cita.nombreMedico}"></td>
                    <td class="row__content" th:text="${cita.nombrePaciente}"></td>
                    <td class="row__content" th:text="${cita.especialidadMedico}"></td>
                    <td class="row__content" th:text="${#temporals.format(cita.fechaCita, 'yyyy-MM-dd HH:mm')}"></td>
                    <td class="row__content"
                        th:style="${cita.fechaCita != null && cita.fechaCita > T(java.time.LocalDateTime).now() ? 'color: rgb(90, 174, 119);' : 'color: rgb(185, 34, 34);'}"
                        th:text="${cita.fechaCita != null && cita.fechaCita > T(java.time.LocalDateTime).now() ? 'Activo' : 'Inactivo'}">
                        Activo</td>
                    <td class="row__content">
                        <a class="content__link" th:attr="data-href=@{/medico/citas/Eliminar/{id}(id=${cita.Id})}"
                            th:href="@{/medico/citas/Eliminar/{id}(id=${cita.Id})}"
                            onclick="return eliminarCita(this);">Eliminar</a>
                    </td>
                </tr>
            </tbody>
        </table>
        <div class="list__button-container">
            <a class="container-button__button" href="/medico">Pagina Principal</a>
        </div>
    </main>
    <div class="dialog__background" id="fondoDialogo">
        <dialog class="dialog" id="Model">
            <p class="dialog__text" id="model-text">No puedes reprogramar esta cita medica</p>
            <div class="dialog__buttons">
                <button id="cancelConfirmButton" class="dialog__button">Cancelar</button>
                <button id="acceptConfirmButton" class="dialog__button">Aceptar</button>
            </div>
        </dialog>
    </div>
    <script th:src="@{/js/VerificarFechaCita.js}"></script>
</body>
</html>